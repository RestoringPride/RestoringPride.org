<<<<<<< HEAD
!function(e){var t={};function s(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=306)}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},107:function(e,t){e.exports=window.wp.blocks},109:function(e,t){e.exports=window.wp.blockEditor},11:function(e,t){function s(){return e.exports=s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,s.apply(this,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},13:function(e,t){e.exports=window.wp.components},151:function(e,t){e.exports=window.wp.isShallowEqual},2:function(e,t){e.exports=window.yoast.propTypes},227:function(e,t){e.exports=window.wp.a11y},306:function(e,t,s){"use strict";s.r(t);var o=s(0),n=s(1),i=s(107),r=s(11),a=s.n(r),c=s(2),u=s.n(c),p=s(8),l=s.n(p),h=s(227),d=s(4),m=function(e){return class extends o.Component{render(){return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(e,this.props)," ")}}},b=s(151),w=s(13),g=s(109);const j=m(g.RichText),O=m(g.RichText.Content);class f extends o.Component{constructor(e){super(e),this.onSelectImage=this.onSelectImage.bind(this),this.onInsertStep=this.onInsertStep.bind(this),this.onRemoveStep=this.onRemoveStep.bind(this),this.onMoveStepUp=this.onMoveStepUp.bind(this),this.onMoveStepDown=this.onMoveStepDown.bind(this),this.onFocusText=this.onFocusText.bind(this),this.onFocusTitle=this.onFocusTitle.bind(this),this.onChangeTitle=this.onChangeTitle.bind(this),this.onChangeText=this.onChangeText.bind(this)}onInsertStep(){this.props.insertStep(this.props.index)}onRemoveStep(){this.props.removeStep(this.props.index)}onMoveStepUp(){this.props.isFirst||this.props.onMoveUp(this.props.index)}onMoveStepDown(){this.props.isLast||this.props.onMoveDown(this.props.index)}onFocusTitle(){this.props.onFocus(this.props.index,"name")}onFocusText(){this.props.onFocus(this.props.index,"text")}onChangeTitle(e){const{onChange:t,index:s,step:{text:o,name:n}}=this.props;t(e,o,n,o,s)}onChangeText(e){const{onChange:t,index:s,step:{text:o,name:n}}=this.props;t(n,e,n,o,s)}getMediaUploadButton(e){return Object(o.createElement)(w.Button,{className:"schema-how-to-step-button how-to-step-add-media",icon:"insert",onClick:e.open},Object(n.__)("Add image","wordpress-seo"))}getButtons(){const{step:e}=this.props;return Object(o.createElement)("div",{className:"schema-how-to-step-button-container"},!f.getImageSrc(e.text)&&Object(o.createElement)(g.MediaUpload,{onSelect:this.onSelectImage,allowedTypes:["image"],value:e.id,render:this.getMediaUploadButton}),Object(o.createElement)(w.Button,{className:"schema-how-to-step-button",icon:"trash",label:Object(n.__)("Delete step","wordpress-seo"),onClick:this.onRemoveStep}),Object(o.createElement)(w.Button,{className:"schema-how-to-step-button",icon:"insert",label:Object(n.__)("Insert step","wordpress-seo"),onClick:this.onInsertStep}))}getMover(){return Object(o.createElement)("div",{className:"schema-how-to-step-mover"},Object(o.createElement)(w.Button,{className:"editor-block-mover__control",onClick:this.onMoveStepUp,icon:"arrow-up-alt2",label:Object(n.__)("Move step up","wordpress-seo"),"aria-disabled":this.props.isFirst}),Object(o.createElement)(w.Button,{className:"editor-block-mover__control",onClick:this.onMoveStepDown,icon:"arrow-down-alt2",label:Object(n.__)("Move step down","wordpress-seo"),"aria-disabled":this.props.isLast}))}onSelectImage(e){const{index:t,step:{name:s,text:n}}=this.props;let i=n.slice();const r=Object(o.createElement)("img",{className:"wp-image-"+e.id,alt:e.alt,src:e.url,style:"max-width:100%;"});i.push?i.push(r):i=[i,r],this.props.onChange(s,i,s,n,t)}static getImageSrc(e){if(!e||!e.filter)return!1;const t=e.filter(e=>e&&e.type&&"img"===e.type)[0];return!!t&&t.props.src}shouldComponentUpdate(e){return!Object(b.isShallowEqualObjects)(e,this.props)}static Content(e){return Object(o.createElement)("li",{className:"schema-how-to-step",id:e.id,key:e.id},Object(o.createElement)(O,{tagName:"strong",className:"schema-how-to-step-name",key:e.id+"-name",value:e.name}),Object(o.createElement)(O,{tagName:"p",className:"schema-how-to-step-text",key:e.id+"-text",value:e.text}))}render(){const{index:e,step:t,isSelected:s,isUnorderedList:i}=this.props,{id:r,name:a,text:c}=t;return Object(o.createElement)("li",{className:"schema-how-to-step",key:r},Object(o.createElement)("span",{className:"schema-how-to-step-number"},i?"•":e+1+"."),Object(o.createElement)(j,{className:"schema-how-to-step-name",tagName:"p",key:r+"-name",value:a,onChange:this.onChangeTitle,placeholder:Object(n.__)("Enter a step title","wordpress-seo"),unstableOnFocus:this.onFocusTitle,allowedFormats:["core/italic","core/strikethrough","core/link"]}),Object(o.createElement)(j,{className:"schema-how-to-step-text",tagName:"p",key:r+"-text",value:c,onChange:this.onChangeText,placeholder:Object(n.__)("Enter a step description","wordpress-seo"),unstableOnFocus:this.onFocusText}),s&&Object(o.createElement)("div",{className:"schema-how-to-step-controls-container"},this.getMover(),this.getButtons()))}}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(e,10)||t}f.propTypes={index:u.a.number.isRequired,step:u.a.object.isRequired,onChange:u.a.func.isRequired,insertStep:u.a.func.isRequired,removeStep:u.a.func.isRequired,onFocus:u.a.func.isRequired,onMoveUp:u.a.func.isRequired,onMoveDown:u.a.func.isRequired,isSelected:u.a.bool.isRequired,isFirst:u.a.bool.isRequired,isLast:u.a.bool.isRequired,isUnorderedList:u.a.bool},f.defaultProps={isUnorderedList:!1};const y=m(g.RichText.Content),_=l()(w.TextControl)`
	&&& {
		margin-bottom: 32px;
	}
`;class x extends o.Component{constructor(e){super(e),this.state={focus:""},this.changeStep=this.changeStep.bind(this),this.insertStep=this.insertStep.bind(this),this.removeStep=this.removeStep.bind(this),this.swapSteps=this.swapSteps.bind(this),this.setFocus=this.setFocus.bind(this),this.addCSSClasses=this.addCSSClasses.bind(this),this.getListTypeHelp=this.getListTypeHelp.bind(this),this.toggleListType=this.toggleListType.bind(this),this.setDurationText=this.setDurationText.bind(this),this.setFocusToStep=this.setFocusToStep.bind(this),this.moveStepUp=this.moveStepUp.bind(this),this.moveStepDown=this.moveStepDown.bind(this),this.focusDescription=this.focusDescription.bind(this),this.addDuration=this.addDuration.bind(this),this.removeDuration=this.removeDuration.bind(this),this.onChangeDescription=this.onChangeDescription.bind(this),this.onChangeDays=this.onChangeDays.bind(this),this.onChangeHours=this.onChangeHours.bind(this),this.onChangeMinutes=this.onChangeMinutes.bind(this),this.onAddStepButtonClick=this.onAddStepButtonClick.bind(this),this.daysInput=Object(o.createRef)(),this.addDurationButton=Object(o.createRef)();const t=this.getDefaultDurationText();this.setDefaultDurationText(t)}getDefaultDurationText(){const e=Object(d.get)(window,"wp.hooks.applyFilters");let t=Object(n.__)("Time needed:","wordpress-seo");return e&&(t=e("wpseo_duration_text",t)),t}setDurationText(e){this.props.setAttributes({durationText:e})}setDefaultDurationText(e){this.props.setAttributes({defaultDurationText:e})}onAddStepButtonClick(){this.insertStep(null,[],[],!1)}static generateId(e){return`${e}-${(new Date).getTime()}`}changeStep(e,t,s,n,i){const r=this.props.attributes.steps?this.props.attributes.steps.slice():[];if(i>=r.length)return;if(r[i].name!==s||r[i].text!==n)return;r[i]={id:r[i].id,name:e,text:t,jsonName:Object(o.renderToString)(e),jsonText:Object(o.renderToString)(t)};const a=f.getImageSrc(t);a&&(r[i].jsonImageSrc=a),this.props.setAttributes({steps:r})}insertStep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=this.props.attributes.steps?this.props.attributes.steps.slice():[];null===e&&(e=i.length-1),i.splice(e+1,0,{id:x.generateId("how-to-step"),name:t,text:s,jsonName:"",jsonText:""}),this.props.setAttributes({steps:i}),o?setTimeout(this.setFocus.bind(this,e+1+":name")):Object(h.speak)(Object(n.__)("New step added","wordpress-seo"))}swapSteps(e,t){const s=this.props.attributes.steps?this.props.attributes.steps.slice():[],o=s[e];s[e]=s[t],s[t]=o,this.props.setAttributes({steps:s});const[n,i]=this.state.focus.split(":");n===""+e&&this.setFocus(`${t}:${i}`),n===""+t&&this.setFocus(`${e}:${i}`)}removeStep(e){const t=this.props.attributes.steps?this.props.attributes.steps.slice():[];t.splice(e,1),this.props.setAttributes({steps:t});let s="description";t[e]?s=e+":name":t[e-1]&&(s=e-1+":text"),this.setFocus(s)}setFocus(e){e!==this.state.focus&&this.setState({focus:e})}setFocusToStep(e,t){this.setFocus(`${e}:${t}`)}moveStepUp(e){this.swapSteps(e,e-1)}moveStepDown(e){this.swapSteps(e,e+1)}getSteps(){if(!this.props.attributes.steps)return null;const[e]=this.state.focus.split(":");return this.props.attributes.steps.map((t,s)=>Object(o.createElement)(f,{key:t.id,step:t,index:s,onChange:this.changeStep,insertStep:this.insertStep,removeStep:this.removeStep,onFocus:this.setFocusToStep,onMoveUp:this.moveStepUp,onMoveDown:this.moveStepDown,isFirst:0===s,isLast:s===this.props.attributes.steps.length-1,isSelected:e===""+s,isUnorderedList:this.props.attributes.unorderedList}))}formatDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===e)return"";const s=e.replace(/^[0]+/,"");return""===s?0:null!==t?Math.min(Math.max(0,parseInt(s,10)),t):Math.max(0,parseInt(s,10))}static getStepsContent(e){return e?e.map(e=>Object(o.createElement)(f.Content,a()({},e,{key:e.id}))):null}static Content(e){const{steps:t,hasDuration:s,days:i,hours:r,minutes:a,description:c,unorderedList:u,additionalListCssClasses:p,className:l,durationText:h,defaultDurationText:d}=e,m=["schema-how-to",l].filter(e=>e).join(" "),b=["schema-how-to-steps",p].filter(e=>e).join(" "),w=function(e){const t=function(e){let{days:t,hours:s,minutes:o}=e;const i=[];return 0!==t&&i.push(Object(n.sprintf)(Object(n._n)("%d day","%d days",t,"wordpress-seo"),t)),0!==s&&i.push(Object(n.sprintf)(Object(n._n)("%d hour","%d hours",s,"wordpress-seo"),s)),0!==o&&i.push(Object(n.sprintf)(Object(n._n)("%d minute","%d minutes",o,"wordpress-seo"),o)),i}({days:v(e.days),hours:v(e.hours),minutes:v(e.minutes)});return 1===t.length?t[0]:2===t.length?Object(n.sprintf)(
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(n.__)("%s and %s","wordpress-seo"),...t):3===t.length?Object(n.sprintf)(
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(n.__)("%s, %s and %s","wordpress-seo"),...t):""}({days:i,hours:r,minutes:a});return Object(o.createElement)("div",{className:m},s&&"string"==typeof w&&w.length>0&&Object(o.createElement)("p",{className:"schema-how-to-total-time"},Object(o.createElement)("span",{className:"schema-how-to-duration-time-text"},h||d," "),w+". "),Object(o.createElement)(y,{tagName:"p",className:"schema-how-to-description",value:c}),u?Object(o.createElement)("ul",{className:b},x.getStepsContent(t)):Object(o.createElement)("ol",{className:b},x.getStepsContent(t)))}getAddStepButton(){return Object(o.createElement)(w.Button,{icon:"insert",onClick:this.onAddStepButtonClick,className:"schema-how-to-add-step"},Object(n.__)("Add step","wordpress-seo"))}addCSSClasses(e){this.props.setAttributes({additionalListCssClasses:e})}toggleListType(e){this.props.setAttributes({unorderedList:e})}getListTypeHelp(e){return e?Object(n.__)("Showing step items as an unordered list","wordpress-seo"):Object(n.__)("Showing step items as an ordered list.","wordpress-seo")}focusDescription(){this.setFocus("description")}onChangeDescription(e){this.props.setAttributes({description:e,jsonDescription:Object(o.renderToString)(e)})}addDuration(){this.props.setAttributes({hasDuration:!0}),setTimeout(()=>this.daysInput.current.focus())}removeDuration(){this.props.setAttributes({hasDuration:!1}),setTimeout(()=>{this.addDurationButton.current instanceof o.Component||this.addDurationButton.current.focus()})}onChangeDays(e){const t=this.formatDuration(e.target.value);this.props.setAttributes({days:Object(d.toString)(t)})}onChangeHours(e){const t=this.formatDuration(e.target.value,23);this.props.setAttributes({hours:Object(d.toString)(t)})}onChangeMinutes(e){const t=this.formatDuration(e.target.value,59);this.props.setAttributes({minutes:Object(d.toString)(t)})}getDuration(){const{attributes:e}=this.props;return e.hasDuration?Object(o.createElement)("fieldset",{className:"schema-how-to-duration"},Object(o.createElement)("span",{className:"schema-how-to-duration-flex-container",role:"presentation"},Object(o.createElement)("legend",{className:"schema-how-to-duration-legend"},e.durationText||this.getDefaultDurationText()),Object(o.createElement)("span",{className:"schema-how-to-duration-time-input"},Object(o.createElement)("label",{htmlFor:"schema-how-to-duration-days",className:"screen-reader-text"},Object(n.__)("days","wordpress-seo")),Object(o.createElement)("input",{id:"schema-how-to-duration-days",className:"schema-how-to-duration-input",type:"number",value:e.days,onChange:this.onChangeDays,placeholder:"DD",ref:this.daysInput}),Object(o.createElement)("label",{htmlFor:"schema-how-to-duration-hours",className:"screen-reader-text"},Object(n.__)("hours","wordpress-seo")),Object(o.createElement)("input",{id:"schema-how-to-duration-hours",className:"schema-how-to-duration-input",type:"number",value:e.hours,onChange:this.onChangeHours,placeholder:"HH"}),Object(o.createElement)("span",{"aria-hidden":"true"},":"),Object(o.createElement)("label",{htmlFor:"schema-how-to-duration-minutes",className:"screen-reader-text"},Object(n.__)("minutes","wordpress-seo")),Object(o.createElement)("input",{id:"schema-how-to-duration-minutes",className:"schema-how-to-duration-input",type:"number",value:e.minutes,onChange:this.onChangeMinutes,placeholder:"MM"}),Object(o.createElement)(w.Button,{className:"schema-how-to-duration-delete-button",icon:"trash",label:Object(n.__)("Delete total time","wordpress-seo"),onClick:this.removeDuration})))):Object(o.createElement)(w.Button,{onClick:this.addDuration,className:"schema-how-to-duration-button",ref:this.addDurationButton,icon:"insert"},Object(n.__)("Add total time","wordpress-seo"))}getSidebar(e,t,s){return s===this.getDefaultDurationText()&&(s=""),Object(o.createElement)(g.InspectorControls,null,Object(o.createElement)(w.PanelBody,{title:Object(n.__)("Settings","wordpress-seo"),className:"blocks-font-size"},Object(o.createElement)(_,{label:Object(n.__)("CSS class(es) to apply to the steps","wordpress-seo"),value:t,onChange:this.addCSSClasses,help:Object(n.__)("Optional. This can give you better control over the styling of the steps.","wordpress-seo")}),Object(o.createElement)(_,{label:Object(n.__)("Describe the duration of the instruction:","wordpress-seo"),value:s,onChange:this.setDurationText,help:Object(n.__)("Optional. Customize how you want to describe the duration of the instruction","wordpress-seo"),placeholder:this.getDefaultDurationText()}),Object(o.createElement)(w.ToggleControl,{label:Object(n.__)("Unordered list","wordpress-seo"),checked:e||!1,onChange:this.toggleListType,help:this.getListTypeHelp})))}render(){const{attributes:e,className:t}=this.props,s=["schema-how-to",t].filter(e=>e).join(" "),i=["schema-how-to-steps",e.additionalListCssClasses].filter(e=>e).join(" ");return Object(o.createElement)("div",{className:s},this.getDuration(),Object(o.createElement)(g.RichText,{tagName:"p",className:"schema-how-to-description",value:e.description,unstableOnFocus:this.focusDescription,onChange:this.onChangeDescription,placeholder:Object(n.__)("Enter a description","wordpress-seo")}),Object(o.createElement)("ul",{className:i},this.getSteps()),Object(o.createElement)("div",{className:"schema-how-to-buttons"},this.getAddStepButton()),this.getSidebar(e.unorderedList,e.additionalListCssClasses,e.durationText))}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(e,10)||t}function S(e){const t=function(e){let{days:t,hours:s,minutes:o}=e;const i=[];return 0!==t&&i.push(Object(n.sprintf)(Object(n._n)("%d day","%d days",t,"wordpress-seo"),t)),0!==s&&i.push(Object(n.sprintf)(Object(n._n)("%d hour","%d hours",s,"wordpress-seo"),s)),0!==o&&i.push(Object(n.sprintf)(Object(n._n)("%d minute","%d minutes",o,"wordpress-seo"),o)),i}({days:C(e.days),hours:C(e.hours),minutes:C(e.minutes)});return 1===t.length?t[0]:2===t.length?Object(n.sprintf)(
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(n.__)("%s and %s","wordpress-seo"),...t):3===t.length?Object(n.sprintf)(
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(n.__)("%s, %s and %s","wordpress-seo"),...t):""}x.propTypes={attributes:u.a.object.isRequired,setAttributes:u.a.func.isRequired,className:u.a.string},x.defaultProps={className:""};const q=e=>Object(o.createElement)("li",{className:"schema-how-to-step",key:e.id},Object(o.createElement)("strong",{className:"schema-how-to-step-name",key:e.id+"-name"},e.name)," ",Object(o.createElement)("p",{className:"schema-how-to-step-text",key:e.id+"-text"},e.text)," ");function E(e){let{steps:t}=e.attributes;const{hasDuration:s,days:i,hours:r,minutes:c,description:u,unorderedList:p,additionalListCssClasses:l,className:h}=e.attributes;t=t?t.map(e=>Object(o.createElement)(q,a()({},e,{key:e.id}))):null;const d=["schema-how-to",h].filter(e=>e).join(" "),m=["schema-how-to-steps",l].filter(e=>e).join(" "),b=S({days:i,hours:r,minutes:c});return Object(o.createElement)("div",{className:d},s&&"string"==typeof b&&b.length>0&&Object(o.createElement)("p",{className:"schema-how-to-total-time"},Object(n.__)("Time needed:","wordpress-seo")," ",b+". "),Object(o.createElement)("p",{className:"schema-how-to-description"},u)," ",p?Object(o.createElement)("ul",{className:m},t):Object(o.createElement)("ol",{className:m},t))}function N(e){return Object(o.createElement)("li",{className:"schema-how-to-step",key:e.id},Object(o.createElement)("strong",{className:"schema-how-to-step-name",key:e.id+"-name"},e.name)," ",Object(o.createElement)("p",{className:"schema-how-to-step-text",key:e.id+"-text"},e.text)," ")}function D(e){const{steps:t,hasDuration:s,days:n,hours:i,minutes:r,description:c,unorderedList:u,additionalListCssClasses:p,className:l,durationText:h,defaultDurationText:d}=e.attributes,m=["schema-how-to",l].filter(e=>e).join(" "),b=["schema-how-to-steps",p].filter(e=>e).join(" "),w=S({days:n,hours:i,minutes:r}),g=t.map(e=>Object(o.createElement)(N,a()({},e,{key:e.id})));return Object(o.createElement)("div",{className:m},s&&"string"==typeof w&&w.length>0&&Object(o.createElement)("p",{className:"schema-how-to-total-time"},Object(o.createElement)("span",{className:"schema-how-to-duration-time-text"},h||d," "),w+". "),Object(o.createElement)("p",{className:"schema-how-to-description"},c)," ",u?Object(o.createElement)("ul",{className:b},g):Object(o.createElement)("ol",{className:b},g))}E.propTypes={attributes:u.a.object},D.propTypes={attributes:u.a.object.isRequired};var T={v8_2:E,v11_4:D};const k={hasDuration:{type:"boolean"},days:{type:"string"},hours:{type:"string"},minutes:{type:"string"},description:{type:"array",source:"children",selector:".schema-how-to-description"},jsonDescription:{type:"string"},steps:{type:"array"},additionalListCssClasses:{type:"string"},unorderedList:{type:"boolean"},durationText:{type:"string"},defaultDurationText:{type:"string"}},F=m(g.RichText.Content);class Q extends o.Component{constructor(e){super(e),this.onSelectImage=this.onSelectImage.bind(this),this.onFocusAnswer=this.onFocusAnswer.bind(this),this.onFocusQuestion=this.onFocusQuestion.bind(this),this.onChangeAnswer=this.onChangeAnswer.bind(this),this.onChangeQuestion=this.onChangeQuestion.bind(this),this.onInsertQuestion=this.onInsertQuestion.bind(this),this.onRemoveQuestion=this.onRemoveQuestion.bind(this),this.onMoveDown=this.onMoveDown.bind(this),this.onMoveUp=this.onMoveUp.bind(this)}getMediaUploadButton(e){return Object(o.createElement)(w.Button,{className:"schema-faq-section-button faq-section-add-media",icon:"insert",onClick:e.open},Object(n.__)("Add image","wordpress-seo"))}onFocusQuestion(){this.props.onFocus("question",this.props.index)}onFocusAnswer(){this.props.onFocus("answer",this.props.index)}onChangeQuestion(e){const{index:t,onChange:s,attributes:{answer:o,question:n}}=this.props;s(e,o,n,o,t)}onChangeAnswer(e){const{index:t,onChange:s,attributes:{answer:o,question:n}}=this.props;s(n,e,n,o,t)}onInsertQuestion(){this.props.insertQuestion(this.props.index)}onRemoveQuestion(){this.props.removeQuestion(this.props.index)}onMoveUp(){this.props.isFirst||this.props.onMoveUp(this.props.index)}onMoveDown(){this.props.isLast||this.props.onMoveDown(this.props.index)}getButtons(){const{attributes:e}=this.props;return Object(o.createElement)("div",{className:"schema-faq-section-button-container"},Object(o.createElement)(g.MediaUpload,{onSelect:this.onSelectImage,allowedTypes:["image"],value:e.id,render:this.getMediaUploadButton}),Object(o.createElement)(w.Button,{className:"schema-faq-section-button",icon:"trash",label:Object(n.__)("Delete question","wordpress-seo"),onClick:this.onRemoveQuestion}),Object(o.createElement)(w.Button,{className:"schema-faq-section-button",icon:"insert",label:Object(n.__)("Insert question","wordpress-seo"),onClick:this.onInsertQuestion}))}getMover(){return Object(o.createElement)("div",{className:"schema-faq-section-mover"},Object(o.createElement)(w.Button,{className:"editor-block-mover__control",onClick:this.onMoveUp,icon:"arrow-up-alt2",label:Object(n.__)("Move question up","wordpress-seo"),"aria-disabled":this.props.isFirst}),Object(o.createElement)(w.Button,{className:"editor-block-mover__control",onClick:this.onMoveDown,icon:"arrow-down-alt2",label:Object(n.__)("Move question down","wordpress-seo"),"aria-disabled":this.props.isLast}))}onSelectImage(e){const{attributes:{answer:t,question:s},index:n}=this.props;let i=t.slice();const r=Object(o.createElement)("img",{className:"wp-image-"+e.id,alt:e.alt,src:e.url,style:"max-width:100%;"});i.push?i.push(r):i=[i,r],this.props.onChange(s,i,s,t,n)}static getImageSrc(e){if(!e||!e.filter)return!1;const t=e.filter(e=>e&&e.type&&"img"===e.type)[0];return!!t&&t.props.src}static Content(e){return Object(o.createElement)("div",{className:"schema-faq-section",id:e.id,key:e.id},Object(o.createElement)(F,{tagName:"strong",className:"schema-faq-question",key:e.id+"-question",value:e.question}),Object(o.createElement)(F,{tagName:"p",className:"schema-faq-answer",key:e.id+"-answer",value:e.answer}))}shouldComponentUpdate(e){return!Object(b.isShallowEqualObjects)(e,this.props)}render(){const{attributes:e,isSelected:t}=this.props,{id:s,question:i,answer:r}=e;return Object(o.createElement)("div",{className:"schema-faq-section",key:s},Object(o.createElement)(g.RichText,{className:"schema-faq-question",tagName:"p",key:s+"-question",value:i,onChange:this.onChangeQuestion,unstableOnFocus:this.onFocusQuestion,placeholder:Object(n.__)("Enter a question","wordpress-seo"),allowedFormats:["core/italic","core/strikethrough","core/link"]}),Object(o.createElement)(g.RichText,{className:"schema-faq-answer",tagName:"p",key:s+"-answer",value:r,onChange:this.onChangeAnswer,unstableOnFocus:this.onFocusAnswer,placeholder:Object(n.__)("Enter the answer to the question","wordpress-seo")}),t&&Object(o.createElement)("div",{className:"schema-faq-section-controls-container"},this.getMover(),this.getButtons()))}}Q.propTypes={index:u.a.number.isRequired,attributes:u.a.object.isRequired,onChange:u.a.func.isRequired,insertQuestion:u.a.func.isRequired,removeQuestion:u.a.func.isRequired,onFocus:u.a.func.isRequired,onMoveUp:u.a.func.isRequired,onMoveDown:u.a.func.isRequired,isSelected:u.a.bool.isRequired,isFirst:u.a.bool.isRequired,isLast:u.a.bool.isRequired};const M=m(Q.Content);class A extends o.Component{constructor(e){super(e),this.state={focus:""},this.changeQuestion=this.changeQuestion.bind(this),this.insertQuestion=this.insertQuestion.bind(this),this.removeQuestion=this.removeQuestion.bind(this),this.swapQuestions=this.swapQuestions.bind(this),this.moveQuestionDown=this.moveQuestionDown.bind(this),this.moveQuestionUp=this.moveQuestionUp.bind(this),this.setFocus=this.setFocus.bind(this),this.onAddQuestionButtonClick=this.onAddQuestionButtonClick.bind(this)}static generateId(e){return`${e}-${(new Date).getTime()}`}onAddQuestionButtonClick(){this.insertQuestion(null,[],[],!1)}changeQuestion(e,t,s,n,i){const r=this.props.attributes.questions?this.props.attributes.questions.slice():[];if(i>=r.length)return;if(r[i].question!==s||r[i].answer!==n)return;r[i]={id:r[i].id,question:e,answer:t,jsonQuestion:Object(o.renderToString)(e),jsonAnswer:Object(o.renderToString)(t)};const a=Q.getImageSrc(t);a&&(r[i].jsonImageSrc=a),this.props.setAttributes({questions:r})}insertQuestion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=this.props.attributes.questions?this.props.attributes.questions.slice():[];null===e&&(e=i.length-1),i.splice(e+1,0,{id:A.generateId("faq-question"),question:t,answer:s,jsonQuestion:"",jsonAnswer:""}),this.props.setAttributes({questions:i}),o?setTimeout(this.setFocus.bind(this,"question",e)):Object(h.speak)(Object(n.__)("New question added","wordpress-seo"))}swapQuestions(e,t){const s=this.props.attributes.questions?this.props.attributes.questions.slice():[],o=s[e];s[e]=s[t],s[t]=o,this.props.setAttributes({questions:s});const[n,i]=this.state.focus.split(":");n===""+e?this.setFocus(i,t):n===""+t&&this.setFocus(i,e)}moveQuestionUp(e){this.swapQuestions(e,e-1)}moveQuestionDown(e){this.swapQuestions(e,e+1)}removeQuestion(e){const t=this.props.attributes.questions?this.props.attributes.questions.slice():[];t.splice(e,1),this.props.setAttributes({questions:t});let s=0;t[e]?s=e:t[e-1]&&(s=e-1),this.setFocus("question",s)}setFocus(e,t){const s=`${t}:${e}`;s!==this.state.focus&&this.setState({focus:s})}getAddQuestionButton(){return Object(o.createElement)(w.Button,{icon:"insert",onClick:this.onAddQuestionButtonClick,className:"schema-faq-add-question"},Object(n.__)("Add question","wordpress-seo"))}getQuestions(){const{attributes:e}=this.props;if(!e.questions)return null;const[t]=this.state.focus.split(":");return e.questions.map((s,n)=>Object(o.createElement)(Q,{index:n,key:s.id,attributes:s,insertQuestion:this.insertQuestion,removeQuestion:this.removeQuestion,onChange:this.changeQuestion,onFocus:this.setFocus,isSelected:t===""+n,onMoveUp:this.moveQuestionUp,onMoveDown:this.moveQuestionDown,isFirst:0===n,isLast:n===e.questions.length-1}))}static Content(e){const{questions:t,className:s}=e,n=t?t.map((e,t)=>Object(o.createElement)(M,a()({key:t},e))):null,i=["schema-faq",s].filter(e=>e).join(" ");return Object(o.createElement)("div",{className:i},n)}render(){const{className:e}=this.props,t=["schema-faq",e].filter(e=>e).join(" ");return Object(o.createElement)("div",{className:t},Object(o.createElement)("div",null,this.getQuestions()),Object(o.createElement)("div",{className:"schema-faq-buttons"},this.getAddQuestionButton()))}}function R(e){const t=m(g.RichText.Content);return Object(o.createElement)("div",{className:"schema-faq-section",key:e.id},Object(o.createElement)(t,{tagName:"strong",className:"schema-faq-question",key:e.id+"-question",value:e.question}),Object(o.createElement)(t,{tagName:"p",className:"schema-faq-answer",key:e.id+"-answer",value:e.answer}))}function I(e){const{questions:t,className:s}=e.attributes,n=m(R),i=t?t.map((e,t)=>Object(o.createElement)(n,a()({key:t},e))):null,r=["schema-faq",s].filter(e=>e).join(" ");return Object(o.createElement)("div",{className:r},i)}A.propTypes={attributes:u.a.object.isRequired,setAttributes:u.a.func.isRequired,className:u.a.string},A.defaultProps={className:""},I.propTypes={attributes:u.a.object.isRequired};var B={v13_1:I};const L={questions:{type:"array"},additionalListCssClasses:{type:"string"}};Object(i.registerBlockType)("yoast/how-to-block",{title:Object(n.__)("Yoast How-to","wordpress-seo"),description:Object(n.__)("Create a How-to guide in an SEO-friendly way. You can only use one How-to block per post.","wordpress-seo"),icon:"editor-ol",category:"yoast-structured-data-blocks",keywords:[Object(n.__)("How-to","wordpress-seo"),Object(n.__)("How to","wordpress-seo"),Object(n.__)("Schema","wordpress-seo"),Object(n.__)("SEO","wordpress-seo"),Object(n.__)("Structured Data","wordpress-seo-premium")],example:{attributes:{steps:[{id:x.generateId("how-to-step"),name:[],text:[]},{id:x.generateId("how-to-step"),name:[],text:[]}]}},supports:{multiple:!1},attributes:k,edit:e=>{let{attributes:t,setAttributes:s,className:n}=e;return t.steps&&0!==t.steps.length||(t.steps=[{id:x.generateId("how-to-step"),name:[],text:[]}]),Object(o.createElement)(x,{attributes:t,setAttributes:s,className:n})},save:function(e){let{attributes:t}=e;return Object(o.createElement)(x.Content,t)},deprecated:[{attributes:k,save:T.v11_4},{attributes:k,save:T.v8_2}]}),Object(i.registerBlockType)("yoast/faq-block",{title:Object(n.__)("Yoast FAQ","wordpress-seo"),description:Object(n.__)("List your Frequently Asked Questions in an SEO-friendly way. You can only use one FAQ block per post.","wordpress-seo"),icon:"editor-ul",category:"yoast-structured-data-blocks",keywords:[Object(n.__)("FAQ","wordpress-seo"),Object(n.__)("Frequently Asked Questions","wordpress-seo"),Object(n.__)("Schema","wordpress-seo"),Object(n.__)("SEO","wordpress-seo"),Object(n.__)("Structured Data","wordpress-seo-premium")],example:{attributes:{questions:[{id:A.generateId("faq-question"),question:[],answer:[]},{id:A.generateId("faq-question"),question:[],answer:[]},{id:A.generateId("faq-question"),question:[],answer:[]}]}},attributes:L,edit:e=>{let{attributes:t,setAttributes:s,className:n}=e;return t.questions&&0!==t.questions.length||(t.questions=[{id:A.generateId("faq-question"),question:[],answer:[]}]),Object(o.createElement)(A,{attributes:t,setAttributes:s,className:n})},save:function(e){let{attributes:t}=e;return Object(o.createElement)(A.Content,t)},deprecated:[{attributes:L,save:B.v13_1}]})},4:function(e,t){e.exports=window.lodash},8:function(e,t){e.exports=window.yoast.styledComponents}});
=======
!function(e){var t={};function s(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=260)}({1:function(e,t){e.exports=window.wp.element},11:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},116:function(e,t){e.exports=window.wp.blocks},118:function(e,t){e.exports=window.wp.blockEditor},12:function(e,t){function s(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},13:function(e,t){function s(t){return e.exports=s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},15:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},157:function(e,t){e.exports=window.wp.isShallowEqual},18:function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},e.exports.__esModule=!0,e.exports.default=e.exports},2:function(e,t){e.exports=window.yoast.propTypes},21:function(e,t,s){var n=s(65);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},216:function(e,t){e.exports=window.wp.a11y},22:function(e,t,s){var n=s(73),o=s(74),r=s(53),i=s(75);e.exports=function(e,t){return n(e)||o(e,t)||r(e,t)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},23:function(e,t,s){var n=s(44).default,o=s(15);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return o(e)},e.exports.__esModule=!0,e.exports.default=e.exports},260:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s(3),r=s(116),i=s(28),a=s.n(i),u=s(22),c=s.n(u),l=s(11),p=s.n(l),d=s(12),h=s.n(d),m=s(15),f=s.n(m),b=s(21),v=s.n(b),y=s(23),w=s.n(y),g=s(13),j=s.n(g),O=s(18),x=s.n(O),_=s(2),k=s.n(_),S=s(9),C=s.n(S),E=s(216),q=s(4);var N=function(e){return function(t){v()(i,t);var s,o,r=(s=i,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=j()(s);if(o){var n=j()(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w()(this,e)});function i(){return p()(this,i),r.apply(this,arguments)}return h()(i,[{key:"render",value:function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(e,this.props)," ")}}]),i}(n.Component)},D=s(157),T=s(27),M=s(118);var R=N(M.RichText),F=N(M.RichText.Content),A=function(e){v()(i,e);var t,s,r=(t=i,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=j()(t);if(s){var o=j()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return w()(this,e)});function i(e){var t;return p()(this,i),(t=r.call(this,e)).onSelectImage=t.onSelectImage.bind(f()(t)),t.onInsertStep=t.onInsertStep.bind(f()(t)),t.onRemoveStep=t.onRemoveStep.bind(f()(t)),t.onMoveStepUp=t.onMoveStepUp.bind(f()(t)),t.onMoveStepDown=t.onMoveStepDown.bind(f()(t)),t.onFocusText=t.onFocusText.bind(f()(t)),t.onFocusTitle=t.onFocusTitle.bind(f()(t)),t.onChangeTitle=t.onChangeTitle.bind(f()(t)),t.onChangeText=t.onChangeText.bind(f()(t)),t}return h()(i,[{key:"onInsertStep",value:function(){this.props.insertStep(this.props.index)}},{key:"onRemoveStep",value:function(){this.props.removeStep(this.props.index)}},{key:"onMoveStepUp",value:function(){this.props.isFirst||this.props.onMoveUp(this.props.index)}},{key:"onMoveStepDown",value:function(){this.props.isLast||this.props.onMoveDown(this.props.index)}},{key:"onFocusTitle",value:function(){this.props.onFocus(this.props.index,"name")}},{key:"onFocusText",value:function(){this.props.onFocus(this.props.index,"text")}},{key:"onChangeTitle",value:function(e){var t=this.props,s=t.onChange,n=t.index,o=t.step,r=o.text;s(e,r,o.name,r,n)}},{key:"onChangeText",value:function(e){var t=this.props,s=t.onChange,n=t.index,o=t.step,r=o.text,i=o.name;s(i,e,i,r,n)}},{key:"getMediaUploadButton",value:function(e){return Object(n.createElement)(T.IconButton,{className:"schema-how-to-step-button how-to-step-add-media",icon:"insert",onClick:e.open},Object(o.__)("Add image","wordpress-seo"))}},{key:"getButtons",value:function(){var e=this.props.step;return Object(n.createElement)("div",{className:"schema-how-to-step-button-container"},!i.getImageSrc(e.text)&&Object(n.createElement)(M.MediaUpload,{onSelect:this.onSelectImage,allowedTypes:["image"],value:e.id,render:this.getMediaUploadButton}),Object(n.createElement)(T.IconButton,{className:"schema-how-to-step-button",icon:"trash",label:Object(o.__)("Delete step","wordpress-seo"),onClick:this.onRemoveStep}),Object(n.createElement)(T.IconButton,{className:"schema-how-to-step-button",icon:"insert",label:Object(o.__)("Insert step","wordpress-seo"),onClick:this.onInsertStep}))}},{key:"getMover",value:function(){return Object(n.createElement)("div",{className:"schema-how-to-step-mover"},Object(n.createElement)(T.IconButton,{className:"editor-block-mover__control",onClick:this.onMoveStepUp,icon:"arrow-up-alt2",label:Object(o.__)("Move step up","wordpress-seo"),"aria-disabled":this.props.isFirst}),Object(n.createElement)(T.IconButton,{className:"editor-block-mover__control",onClick:this.onMoveStepDown,icon:"arrow-down-alt2",label:Object(o.__)("Move step down","wordpress-seo"),"aria-disabled":this.props.isLast}))}},{key:"onSelectImage",value:function(e){var t=this.props,s=t.index,o=t.step,r=o.name,i=o.text,a=i.slice(),u=Object(n.createElement)("img",{className:"wp-image-".concat(e.id),alt:e.alt,src:e.url,style:"max-width:100%;"});a.push?a.push(u):a=[a,u],this.props.onChange(r,a,r,i,s)}},{key:"shouldComponentUpdate",value:function(e){return!Object(D.isShallowEqualObjects)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.index,s=e.step,r=e.isSelected,i=e.isUnorderedList,a=s.id,u=s.name,c=s.text;return Object(n.createElement)("li",{className:"schema-how-to-step",key:a},Object(n.createElement)("span",{className:"schema-how-to-step-number"},i?"•":t+1+"."),Object(n.createElement)(R,{className:"schema-how-to-step-name",tagName:"p",key:"".concat(a,"-name"),value:u,onChange:this.onChangeTitle,placeholder:Object(o.__)("Enter a step title","wordpress-seo"),unstableOnFocus:this.onFocusTitle,formattingControls:["italic","strikethrough","link"]}),Object(n.createElement)(R,{className:"schema-how-to-step-text",tagName:"p",key:"".concat(a,"-text"),value:c,onChange:this.onChangeText,placeholder:Object(o.__)("Enter a step description","wordpress-seo"),unstableOnFocus:this.onFocusText}),r&&Object(n.createElement)("div",{className:"schema-how-to-step-controls-container"},this.getMover(),this.getButtons()))}}],[{key:"getImageSrc",value:function(e){if(!e||!e.filter)return!1;var t=e.filter((function(e){return e&&e.type&&"img"===e.type}))[0];return!!t&&t.props.src}},{key:"Content",value:function(e){return Object(n.createElement)("li",{className:"schema-how-to-step",id:e.id,key:e.id},Object(n.createElement)(F,{tagName:"strong",className:"schema-how-to-step-name",key:e.id+"-name",value:e.name}),Object(n.createElement)(F,{tagName:"p",className:"schema-how-to-step-text",key:e.id+"-text",value:e.text}))}}]),i}(n.Component);A.propTypes={index:k.a.number.isRequired,step:k.a.object.isRequired,onChange:k.a.func.isRequired,insertStep:k.a.func.isRequired,removeStep:k.a.func.isRequired,onFocus:k.a.func.isRequired,onMoveUp:k.a.func.isRequired,onMoveDown:k.a.func.isRequired,isSelected:k.a.bool.isRequired,isFirst:k.a.bool.isRequired,isLast:k.a.bool.isRequired,isUnorderedList:k.a.bool},A.defaultProps={isUnorderedList:!1};var I,Q=s(32),B=s.n(Q);function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(e,10)||t}var U=N(M.RichText.Content),P=C()(T.TextControl)(I||(I=x()(["\n\t&&& {\n\t\tmargin-bottom: 32px;\n\t}\n"]))),H=function(e){v()(i,e);var t,s,r=(t=i,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=j()(t);if(s){var o=j()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return w()(this,e)});function i(e){var t;p()(this,i),(t=r.call(this,e)).state={focus:""},t.changeStep=t.changeStep.bind(f()(t)),t.insertStep=t.insertStep.bind(f()(t)),t.removeStep=t.removeStep.bind(f()(t)),t.swapSteps=t.swapSteps.bind(f()(t)),t.setFocus=t.setFocus.bind(f()(t)),t.addCSSClasses=t.addCSSClasses.bind(f()(t)),t.getListTypeHelp=t.getListTypeHelp.bind(f()(t)),t.toggleListType=t.toggleListType.bind(f()(t)),t.setDurationText=t.setDurationText.bind(f()(t)),t.setFocusToStep=t.setFocusToStep.bind(f()(t)),t.moveStepUp=t.moveStepUp.bind(f()(t)),t.moveStepDown=t.moveStepDown.bind(f()(t)),t.focusDescription=t.focusDescription.bind(f()(t)),t.addDuration=t.addDuration.bind(f()(t)),t.removeDuration=t.removeDuration.bind(f()(t)),t.onChangeDescription=t.onChangeDescription.bind(f()(t)),t.onChangeDays=t.onChangeDays.bind(f()(t)),t.onChangeHours=t.onChangeHours.bind(f()(t)),t.onChangeMinutes=t.onChangeMinutes.bind(f()(t)),t.onAddStepButtonClick=t.onAddStepButtonClick.bind(f()(t)),t.daysInput=Object(n.createRef)(),t.addDurationButton=Object(n.createRef)();var s=t.getDefaultDurationText();return t.setDefaultDurationText(s),t}return h()(i,[{key:"getDefaultDurationText",value:function(){var e=Object(q.get)(window,"wp.hooks.applyFilters"),t=Object(o.__)("Time needed:","wordpress-seo");return e&&(t=e("wpseo_duration_text",t)),t}},{key:"setDurationText",value:function(e){this.props.setAttributes({durationText:e})}},{key:"setDefaultDurationText",value:function(e){this.props.setAttributes({defaultDurationText:e})}},{key:"onAddStepButtonClick",value:function(){this.insertStep(null,[],[],!1)}},{key:"changeStep",value:function(e,t,s,o,r){var i=this.props.attributes.steps?this.props.attributes.steps.slice():[];if(!(r>=i.length)&&i[r].name===s&&i[r].text===o){i[r]={id:i[r].id,name:e,text:t,jsonName:Object(n.renderToString)(e),jsonText:Object(n.renderToString)(t)};var a=A.getImageSrc(t);a&&(i[r].jsonImageSrc=a),this.props.setAttributes({steps:i})}}},{key:"insertStep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.props.attributes.steps?this.props.attributes.steps.slice():[];null===e&&(e=r.length-1),r.splice(e+1,0,{id:i.generateId("how-to-step"),name:t,text:s,jsonName:"",jsonText:""}),this.props.setAttributes({steps:r}),n?setTimeout(this.setFocus.bind(this,"".concat(e+1,":name"))):Object(E.speak)(Object(o.__)("New step added","wordpress-seo"))}},{key:"swapSteps",value:function(e,t){var s=this.props.attributes.steps?this.props.attributes.steps.slice():[],n=s[e];s[e]=s[t],s[t]=n,this.props.setAttributes({steps:s});var o=this.state.focus.split(":"),r=c()(o,2),i=r[0],a=r[1];i==="".concat(e)&&this.setFocus("".concat(t,":").concat(a)),i==="".concat(t)&&this.setFocus("".concat(e,":").concat(a))}},{key:"removeStep",value:function(e){var t=this.props.attributes.steps?this.props.attributes.steps.slice():[];t.splice(e,1),this.props.setAttributes({steps:t});var s="description";t[e]?s="".concat(e,":name"):t[e-1]&&(s="".concat(e-1,":text")),this.setFocus(s)}},{key:"setFocus",value:function(e){e!==this.state.focus&&this.setState({focus:e})}},{key:"setFocusToStep",value:function(e,t){this.setFocus("".concat(e,":").concat(t))}},{key:"moveStepUp",value:function(e){this.swapSteps(e,e-1)}},{key:"moveStepDown",value:function(e){this.swapSteps(e,e+1)}},{key:"getSteps",value:function(){var e=this;if(!this.props.attributes.steps)return null;var t=this.state.focus.split(":"),s=c()(t,1)[0];return this.props.attributes.steps.map((function(t,o){return Object(n.createElement)(A,{key:t.id,step:t,index:o,onChange:e.changeStep,insertStep:e.insertStep,removeStep:e.removeStep,onFocus:e.setFocusToStep,onMoveUp:e.moveStepUp,onMoveDown:e.moveStepDown,isFirst:0===o,isLast:o===e.props.attributes.steps.length-1,isSelected:s==="".concat(o),isUnorderedList:e.props.attributes.unorderedList})}))}},{key:"formatDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===e)return"";var s=e.replace(/^[0]+/,"");return""===s?0:null!==t?Math.min(Math.max(0,parseInt(s,10)),t):Math.max(0,parseInt(s,10))}},{key:"getAddStepButton",value:function(){return Object(n.createElement)(T.IconButton,{icon:"insert",onClick:this.onAddStepButtonClick,className:"schema-how-to-add-step"},Object(o.__)("Add step","wordpress-seo"))}},{key:"addCSSClasses",value:function(e){this.props.setAttributes({additionalListCssClasses:e})}},{key:"toggleListType",value:function(e){this.props.setAttributes({unorderedList:e})}},{key:"getListTypeHelp",value:function(e){return e?Object(o.__)("Showing step items as an unordered list","wordpress-seo"):Object(o.__)("Showing step items as an ordered list.","wordpress-seo")}},{key:"focusDescription",value:function(){this.setFocus("description")}},{key:"onChangeDescription",value:function(e){this.props.setAttributes({description:e,jsonDescription:Object(n.renderToString)(e)})}},{key:"addDuration",value:function(){var e=this;this.props.setAttributes({hasDuration:!0}),setTimeout((function(){return e.daysInput.current.focus()}))}},{key:"removeDuration",value:function(){var e=this;this.props.setAttributes({hasDuration:!1}),setTimeout((function(){e.addDurationButton.current instanceof n.Component||e.addDurationButton.current.focus()}))}},{key:"onChangeDays",value:function(e){var t=this.formatDuration(e.target.value);this.props.setAttributes({days:Object(q.toString)(t)})}},{key:"onChangeHours",value:function(e){var t=this.formatDuration(e.target.value,23);this.props.setAttributes({hours:Object(q.toString)(t)})}},{key:"onChangeMinutes",value:function(e){var t=this.formatDuration(e.target.value,59);this.props.setAttributes({minutes:Object(q.toString)(t)})}},{key:"getDuration",value:function(){var e=this.props.attributes;return e.hasDuration?Object(n.createElement)("fieldset",{className:"schema-how-to-duration"},Object(n.createElement)("span",{className:"schema-how-to-duration-flex-container",role:"presentation"},Object(n.createElement)("legend",{className:"schema-how-to-duration-legend"},e.durationText||this.getDefaultDurationText()),Object(n.createElement)("span",{className:"schema-how-to-duration-time-input"},Object(n.createElement)("label",{htmlFor:"schema-how-to-duration-days",className:"screen-reader-text"},Object(o.__)("days","wordpress-seo")),Object(n.createElement)("input",{id:"schema-how-to-duration-days",className:"schema-how-to-duration-input",type:"number",value:e.days,onChange:this.onChangeDays,placeholder:"DD",ref:this.daysInput}),Object(n.createElement)("label",{htmlFor:"schema-how-to-duration-hours",className:"screen-reader-text"},Object(o.__)("hours","wordpress-seo")),Object(n.createElement)("input",{id:"schema-how-to-duration-hours",className:"schema-how-to-duration-input",type:"number",value:e.hours,onChange:this.onChangeHours,placeholder:"HH"}),Object(n.createElement)("span",{"aria-hidden":"true"},":"),Object(n.createElement)("label",{htmlFor:"schema-how-to-duration-minutes",className:"screen-reader-text"},Object(o.__)("minutes","wordpress-seo")),Object(n.createElement)("input",{id:"schema-how-to-duration-minutes",className:"schema-how-to-duration-input",type:"number",value:e.minutes,onChange:this.onChangeMinutes,placeholder:"MM"}),Object(n.createElement)(T.IconButton,{className:"schema-how-to-duration-delete-button",icon:"trash",label:Object(o.__)("Delete total time","wordpress-seo"),onClick:this.removeDuration})))):Object(n.createElement)(T.IconButton,{onClick:this.addDuration,className:"schema-how-to-duration-button",ref:this.addDurationButton,icon:"insert"},Object(o.__)("Add total time","wordpress-seo"))}},{key:"getSidebar",value:function(e,t,s){return s===this.getDefaultDurationText()&&(s=""),Object(n.createElement)(M.InspectorControls,null,Object(n.createElement)(T.PanelBody,{title:Object(o.__)("Settings","wordpress-seo"),className:"blocks-font-size"},Object(n.createElement)(P,{label:Object(o.__)("CSS class(es) to apply to the steps","wordpress-seo"),value:t,onChange:this.addCSSClasses,help:Object(o.__)("Optional. This can give you better control over the styling of the steps.","wordpress-seo")}),Object(n.createElement)(P,{label:Object(o.__)("Describe the duration of the instruction:","wordpress-seo"),value:s,onChange:this.setDurationText,help:Object(o.__)("Optional. Customize how you want to describe the duration of the instruction","wordpress-seo"),placeholder:this.getDefaultDurationText()}),Object(n.createElement)(T.ToggleControl,{label:Object(o.__)("Unordered list","wordpress-seo"),checked:e||!1,onChange:this.toggleListType,help:this.getListTypeHelp})))}},{key:"render",value:function(){var e=this.props,t=e.attributes,s=["schema-how-to",e.className].filter((function(e){return e})).join(" "),r=["schema-how-to-steps",t.additionalListCssClasses].filter((function(e){return e})).join(" ");return Object(n.createElement)("div",{className:s},this.getDuration(),Object(n.createElement)(M.RichText,{tagName:"p",className:"schema-how-to-description",value:t.description,unstableOnFocus:this.focusDescription,onChange:this.onChangeDescription,placeholder:Object(o.__)("Enter a description","wordpress-seo")}),Object(n.createElement)("ul",{className:r},this.getSteps()),Object(n.createElement)("div",{className:"schema-how-to-buttons"},this.getAddStepButton()),this.getSidebar(t.unorderedList,t.additionalListCssClasses,t.durationText))}}],[{key:"generateId",value:function(e){return"".concat(e,"-").concat((new Date).getTime())}},{key:"getStepsContent",value:function(e){return e?e.map((function(e){return Object(n.createElement)(A.Content,a()({},e,{key:e.id}))})):null}},{key:"Content",value:function(e){var t=e.steps,s=e.hasDuration,r=e.days,a=e.hours,u=e.minutes,c=e.description,l=e.unorderedList,p=e.additionalListCssClasses,d=e.className,h=e.durationText,m=e.defaultDurationText,f=["schema-how-to",d].filter((function(e){return e})).join(" "),b=["schema-how-to-steps",p].filter((function(e){return e})).join(" "),v=function(e){var t,s,n,r,i,a=(n=(t={days:L(e.days),hours:L(e.hours),minutes:L(e.minutes)}).hours,r=t.minutes,i=[],0!==(s=t.days)&&i.push(Object(o.sprintf)(Object(o._n)("%d day","%d days",s,"wordpress-seo"),s)),0!==n&&i.push(Object(o.sprintf)(Object(o._n)("%d hour","%d hours",n,"wordpress-seo"),n)),0!==r&&i.push(Object(o.sprintf)(Object(o._n)("%d minute","%d minutes",r,"wordpress-seo"),r)),i);return 1===a.length?a[0]:2===a.length?o.sprintf.apply(void 0,[
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(o.__)("%s and %s","wordpress-seo")].concat(B()(a))):3===a.length?o.sprintf.apply(void 0,[
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(o.__)("%s, %s and %s","wordpress-seo")].concat(B()(a))):""}({days:r,hours:a,minutes:u});return Object(n.createElement)("div",{className:f},s&&"string"==typeof v&&v.length>0&&Object(n.createElement)("p",{className:"schema-how-to-total-time"},Object(n.createElement)("span",{className:"schema-how-to-duration-time-text"},h||m," "),v+". "),Object(n.createElement)(U,{tagName:"p",className:"schema-how-to-description",value:c}),l?Object(n.createElement)("ul",{className:b},i.getStepsContent(t)):Object(n.createElement)("ol",{className:b},i.getStepsContent(t)))}}]),i}(n.Component);function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(e,10)||t}function Y(e){var t,s,n,r,i,a=(n=(t={days:z(e.days),hours:z(e.hours),minutes:z(e.minutes)}).hours,r=t.minutes,i=[],0!==(s=t.days)&&i.push(Object(o.sprintf)(Object(o._n)("%d day","%d days",s,"wordpress-seo"),s)),0!==n&&i.push(Object(o.sprintf)(Object(o._n)("%d hour","%d hours",n,"wordpress-seo"),n)),0!==r&&i.push(Object(o.sprintf)(Object(o._n)("%d minute","%d minutes",r,"wordpress-seo"),r)),i);return 1===a.length?a[0]:2===a.length?o.sprintf.apply(void 0,[
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(o.__)("%s and %s","wordpress-seo")].concat(B()(a))):3===a.length?o.sprintf.apply(void 0,[
/* translators: %s expands to a unit of time (e.g. 1 day). */
Object(o.__)("%s, %s and %s","wordpress-seo")].concat(B()(a))):""}H.propTypes={attributes:k.a.object.isRequired,setAttributes:k.a.func.isRequired,className:k.a.string},H.defaultProps={className:""};var $=function(e){return Object(n.createElement)("li",{className:"schema-how-to-step",key:e.id},Object(n.createElement)("strong",{className:"schema-how-to-step-name",key:e.id+"-name"},e.name)," ",Object(n.createElement)("p",{className:"schema-how-to-step-text",key:e.id+"-text"},e.text)," ")};function G(e){var t=e.attributes.steps,s=e.attributes,r=s.hasDuration,i=s.days,u=s.hours,c=s.minutes,l=s.description,p=s.unorderedList,d=s.additionalListCssClasses,h=s.className;t=t?t.map((function(e){return Object(n.createElement)($,a()({},e,{key:e.id}))})):null;var m=["schema-how-to",h].filter((function(e){return e})).join(" "),f=["schema-how-to-steps",d].filter((function(e){return e})).join(" "),b=Y({days:i,hours:u,minutes:c});return Object(n.createElement)("div",{className:m},r&&"string"==typeof b&&b.length>0&&Object(n.createElement)("p",{className:"schema-how-to-total-time"},Object(o.__)("Time needed:","wordpress-seo")," ",b+". "),Object(n.createElement)("p",{className:"schema-how-to-description"},l)," ",p?Object(n.createElement)("ul",{className:f},t):Object(n.createElement)("ol",{className:f},t))}function J(e){return Object(n.createElement)("li",{className:"schema-how-to-step",key:e.id},Object(n.createElement)("strong",{className:"schema-how-to-step-name",key:e.id+"-name"},e.name)," ",Object(n.createElement)("p",{className:"schema-how-to-step-text",key:e.id+"-text"},e.text)," ")}function K(e){var t=e.attributes,s=t.steps,o=t.hasDuration,r=t.days,i=t.hours,u=t.minutes,c=t.description,l=t.unorderedList,p=t.additionalListCssClasses,d=t.className,h=t.durationText,m=t.defaultDurationText,f=["schema-how-to",d].filter((function(e){return e})).join(" "),b=["schema-how-to-steps",p].filter((function(e){return e})).join(" "),v=Y({days:r,hours:i,minutes:u}),y=s.map((function(e){return Object(n.createElement)(J,a()({},e,{key:e.id}))}));return Object(n.createElement)("div",{className:f},o&&"string"==typeof v&&v.length>0&&Object(n.createElement)("p",{className:"schema-how-to-total-time"},Object(n.createElement)("span",{className:"schema-how-to-duration-time-text"},h||m," "),v+". "),Object(n.createElement)("p",{className:"schema-how-to-description"},c)," ",l?Object(n.createElement)("ul",{className:b},y):Object(n.createElement)("ol",{className:b},y))}G.propTypes={attributes:k.a.object},K.propTypes={attributes:k.a.object.isRequired};var V={v8_2:G,v11_4:K},W={hasDuration:{type:"boolean"},days:{type:"string"},hours:{type:"string"},minutes:{type:"string"},description:{type:"array",source:"children",selector:".schema-how-to-description"},jsonDescription:{type:"string"},steps:{type:"array"},additionalListCssClasses:{type:"string"},unorderedList:{type:"boolean"},durationText:{type:"string"},defaultDurationText:{type:"string"}};var X=N(M.RichText.Content),Z=function(e){v()(i,e);var t,s,r=(t=i,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=j()(t);if(s){var o=j()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return w()(this,e)});function i(e){var t;return p()(this,i),(t=r.call(this,e)).onSelectImage=t.onSelectImage.bind(f()(t)),t.onFocusAnswer=t.onFocusAnswer.bind(f()(t)),t.onFocusQuestion=t.onFocusQuestion.bind(f()(t)),t.onChangeAnswer=t.onChangeAnswer.bind(f()(t)),t.onChangeQuestion=t.onChangeQuestion.bind(f()(t)),t.onInsertQuestion=t.onInsertQuestion.bind(f()(t)),t.onRemoveQuestion=t.onRemoveQuestion.bind(f()(t)),t.onMoveDown=t.onMoveDown.bind(f()(t)),t.onMoveUp=t.onMoveUp.bind(f()(t)),t}return h()(i,[{key:"getMediaUploadButton",value:function(e){return Object(n.createElement)(T.IconButton,{className:"schema-faq-section-button faq-section-add-media",icon:"insert",onClick:e.open},Object(o.__)("Add image","wordpress-seo"))}},{key:"onFocusQuestion",value:function(){this.props.onFocus("question",this.props.index)}},{key:"onFocusAnswer",value:function(){this.props.onFocus("answer",this.props.index)}},{key:"onChangeQuestion",value:function(e){var t=this.props,s=t.index,n=t.onChange,o=t.attributes,r=o.answer;n(e,r,o.question,r,s)}},{key:"onChangeAnswer",value:function(e){var t=this.props,s=t.index,n=t.onChange,o=t.attributes,r=o.answer,i=o.question;n(i,e,i,r,s)}},{key:"onInsertQuestion",value:function(){this.props.insertQuestion(this.props.index)}},{key:"onRemoveQuestion",value:function(){this.props.removeQuestion(this.props.index)}},{key:"onMoveUp",value:function(){this.props.isFirst||this.props.onMoveUp(this.props.index)}},{key:"onMoveDown",value:function(){this.props.isLast||this.props.onMoveDown(this.props.index)}},{key:"getButtons",value:function(){var e=this.props.attributes;return Object(n.createElement)("div",{className:"schema-faq-section-button-container"},Object(n.createElement)(M.MediaUpload,{onSelect:this.onSelectImage,allowedTypes:["image"],value:e.id,render:this.getMediaUploadButton}),Object(n.createElement)(T.IconButton,{className:"schema-faq-section-button",icon:"trash",label:Object(o.__)("Delete question","wordpress-seo"),onClick:this.onRemoveQuestion}),Object(n.createElement)(T.IconButton,{className:"schema-faq-section-button",icon:"insert",label:Object(o.__)("Insert question","wordpress-seo"),onClick:this.onInsertQuestion}))}},{key:"getMover",value:function(){return Object(n.createElement)("div",{className:"schema-faq-section-mover"},Object(n.createElement)(T.IconButton,{className:"editor-block-mover__control",onClick:this.onMoveUp,icon:"arrow-up-alt2",label:Object(o.__)("Move question up","wordpress-seo"),"aria-disabled":this.props.isFirst}),Object(n.createElement)(T.IconButton,{className:"editor-block-mover__control",onClick:this.onMoveDown,icon:"arrow-down-alt2",label:Object(o.__)("Move question down","wordpress-seo"),"aria-disabled":this.props.isLast}))}},{key:"onSelectImage",value:function(e){var t=this.props,s=t.attributes,o=s.answer,r=s.question,i=t.index,a=o.slice(),u=Object(n.createElement)("img",{className:"wp-image-".concat(e.id),alt:e.alt,src:e.url,style:"max-width:100%;"});a.push?a.push(u):a=[a,u],this.props.onChange(r,a,r,o,i)}},{key:"shouldComponentUpdate",value:function(e){return!Object(D.isShallowEqualObjects)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.attributes,s=e.isSelected,r=t.id,i=t.question,a=t.answer;return Object(n.createElement)("div",{className:"schema-faq-section",key:r},Object(n.createElement)(M.RichText,{className:"schema-faq-question",tagName:"p",key:r+"-question",value:i,onChange:this.onChangeQuestion,unstableOnFocus:this.onFocusQuestion,placeholder:Object(o.__)("Enter a question","wordpress-seo"),formattingControls:["italic","strikethrough","link"]}),Object(n.createElement)(M.RichText,{className:"schema-faq-answer",tagName:"p",key:r+"-answer",value:a,onChange:this.onChangeAnswer,unstableOnFocus:this.onFocusAnswer,placeholder:Object(o.__)("Enter the answer to the question","wordpress-seo")}),s&&Object(n.createElement)("div",{className:"schema-faq-section-controls-container"},this.getMover(),this.getButtons()))}}],[{key:"getImageSrc",value:function(e){if(!e||!e.filter)return!1;var t=e.filter((function(e){return e&&e.type&&"img"===e.type}))[0];return!!t&&t.props.src}},{key:"Content",value:function(e){return Object(n.createElement)("div",{className:"schema-faq-section",id:e.id,key:e.id},Object(n.createElement)(X,{tagName:"strong",className:"schema-faq-question",key:e.id+"-question",value:e.question}),Object(n.createElement)(X,{tagName:"p",className:"schema-faq-answer",key:e.id+"-answer",value:e.answer}))}}]),i}(n.Component);Z.propTypes={index:k.a.number.isRequired,attributes:k.a.object.isRequired,onChange:k.a.func.isRequired,insertQuestion:k.a.func.isRequired,removeQuestion:k.a.func.isRequired,onFocus:k.a.func.isRequired,onMoveUp:k.a.func.isRequired,onMoveDown:k.a.func.isRequired,isSelected:k.a.bool.isRequired,isFirst:k.a.bool.isRequired,isLast:k.a.bool.isRequired};var ee=N(Z.Content),te=function(e){v()(i,e);var t,s,r=(t=i,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=j()(t);if(s){var o=j()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return w()(this,e)});function i(e){var t;return p()(this,i),(t=r.call(this,e)).state={focus:""},t.changeQuestion=t.changeQuestion.bind(f()(t)),t.insertQuestion=t.insertQuestion.bind(f()(t)),t.removeQuestion=t.removeQuestion.bind(f()(t)),t.swapQuestions=t.swapQuestions.bind(f()(t)),t.moveQuestionDown=t.moveQuestionDown.bind(f()(t)),t.moveQuestionUp=t.moveQuestionUp.bind(f()(t)),t.setFocus=t.setFocus.bind(f()(t)),t.onAddQuestionButtonClick=t.onAddQuestionButtonClick.bind(f()(t)),t}return h()(i,[{key:"onAddQuestionButtonClick",value:function(){this.insertQuestion(null,[],[],!1)}},{key:"changeQuestion",value:function(e,t,s,o,r){var i=this.props.attributes.questions?this.props.attributes.questions.slice():[];if(!(r>=i.length)&&i[r].question===s&&i[r].answer===o){i[r]={id:i[r].id,question:e,answer:t,jsonQuestion:Object(n.renderToString)(e),jsonAnswer:Object(n.renderToString)(t)};var a=Z.getImageSrc(t);a&&(i[r].jsonImageSrc=a),this.props.setAttributes({questions:i})}}},{key:"insertQuestion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.props.attributes.questions?this.props.attributes.questions.slice():[];null===e&&(e=r.length-1),r.splice(e+1,0,{id:i.generateId("faq-question"),question:t,answer:s,jsonQuestion:"",jsonAnswer:""}),this.props.setAttributes({questions:r}),n?setTimeout(this.setFocus.bind(this,"question",e)):Object(E.speak)(Object(o.__)("New question added","wordpress-seo"))}},{key:"swapQuestions",value:function(e,t){var s=this.props.attributes.questions?this.props.attributes.questions.slice():[],n=s[e];s[e]=s[t],s[t]=n,this.props.setAttributes({questions:s});var o=this.state.focus.split(":"),r=c()(o,2),i=r[0],a=r[1];i==="".concat(e)?this.setFocus(a,t):i==="".concat(t)&&this.setFocus(a,e)}},{key:"moveQuestionUp",value:function(e){this.swapQuestions(e,e-1)}},{key:"moveQuestionDown",value:function(e){this.swapQuestions(e,e+1)}},{key:"removeQuestion",value:function(e){var t=this.props.attributes.questions?this.props.attributes.questions.slice():[];t.splice(e,1),this.props.setAttributes({questions:t});var s=0;t[e]?s=e:t[e-1]&&(s=e-1),this.setFocus("question",s)}},{key:"setFocus",value:function(e,t){var s="".concat(t,":").concat(e);s!==this.state.focus&&this.setState({focus:s})}},{key:"getAddQuestionButton",value:function(){return Object(n.createElement)(T.IconButton,{icon:"insert",onClick:this.onAddQuestionButtonClick,className:"schema-faq-add-question"},Object(o.__)("Add question","wordpress-seo"))}},{key:"getQuestions",value:function(){var e=this,t=this.props.attributes;if(!t.questions)return null;var s=this.state.focus.split(":"),o=c()(s,1)[0];return t.questions.map((function(s,r){return Object(n.createElement)(Z,{index:r,key:s.id,attributes:s,insertQuestion:e.insertQuestion,removeQuestion:e.removeQuestion,onChange:e.changeQuestion,onFocus:e.setFocus,isSelected:o==="".concat(r),onMoveUp:e.moveQuestionUp,onMoveDown:e.moveQuestionDown,isFirst:0===r,isLast:r===t.questions.length-1})}))}},{key:"render",value:function(){var e=["schema-faq",this.props.className].filter((function(e){return e})).join(" ");return Object(n.createElement)("div",{className:e},Object(n.createElement)("div",null,this.getQuestions()),Object(n.createElement)("div",{className:"schema-faq-buttons"},this.getAddQuestionButton()))}}],[{key:"generateId",value:function(e){return"".concat(e,"-").concat((new Date).getTime())}},{key:"Content",value:function(e){var t=e.questions,s=e.className,o=t?t.map((function(e,t){return Object(n.createElement)(ee,a()({key:t},e))})):null,r=["schema-faq",s].filter((function(e){return e})).join(" ");return Object(n.createElement)("div",{className:r},o)}}]),i}(n.Component);function se(e){var t=N(M.RichText.Content);return Object(n.createElement)("div",{className:"schema-faq-section",key:e.id},Object(n.createElement)(t,{tagName:"strong",className:"schema-faq-question",key:e.id+"-question",value:e.question}),Object(n.createElement)(t,{tagName:"p",className:"schema-faq-answer",key:e.id+"-answer",value:e.answer}))}function ne(e){var t=e.attributes,s=t.questions,o=t.className,r=N(se),i=s?s.map((function(e,t){return Object(n.createElement)(r,a()({key:t},e))})):null,u=["schema-faq",o].filter((function(e){return e})).join(" ");return Object(n.createElement)("div",{className:u},i)}te.propTypes={attributes:k.a.object.isRequired,setAttributes:k.a.func.isRequired,className:k.a.string},te.defaultProps={className:""},ne.propTypes={attributes:k.a.object.isRequired};var oe={v13_1:ne},re={questions:{type:"array"},additionalListCssClasses:{type:"string"}};Object(r.registerBlockType)("yoast/how-to-block",{title:Object(o.__)("Yoast How-to","wordpress-seo"),description:Object(o.__)("Create a How-to guide in an SEO-friendly way. You can only use one How-to block per post.","wordpress-seo"),icon:"editor-ol",category:"yoast-structured-data-blocks",keywords:[Object(o.__)("How-to","wordpress-seo"),Object(o.__)("How to","wordpress-seo"),Object(o.__)("Schema","wordpress-seo"),Object(o.__)("SEO","wordpress-seo"),Object(o.__)("Structured Data","wordpress-seo-premium")],example:{attributes:{steps:[{id:H.generateId("how-to-step"),name:[],text:[]},{id:H.generateId("how-to-step"),name:[],text:[]}]}},supports:{multiple:!1},attributes:W,edit:function(e){var t=e.attributes,s=e.setAttributes,o=e.className;return t.steps&&0!==t.steps.length||(t.steps=[{id:H.generateId("how-to-step"),name:[],text:[]}]),Object(n.createElement)(H,{attributes:t,setAttributes:s,className:o})},save:function(e){var t=e.attributes;return Object(n.createElement)(H.Content,t)},deprecated:[{attributes:W,save:V.v11_4},{attributes:W,save:V.v8_2}]}),Object(r.registerBlockType)("yoast/faq-block",{title:Object(o.__)("Yoast FAQ","wordpress-seo"),description:Object(o.__)("List your Frequently Asked Questions in an SEO-friendly way. You can only use one FAQ block per post.","wordpress-seo"),icon:"editor-ul",category:"yoast-structured-data-blocks",keywords:[Object(o.__)("FAQ","wordpress-seo"),Object(o.__)("Frequently Asked Questions","wordpress-seo"),Object(o.__)("Schema","wordpress-seo"),Object(o.__)("SEO","wordpress-seo"),Object(o.__)("Structured Data","wordpress-seo-premium")],example:{attributes:{questions:[{id:te.generateId("faq-question"),question:[],answer:[]},{id:te.generateId("faq-question"),question:[],answer:[]},{id:te.generateId("faq-question"),question:[],answer:[]}]}},attributes:re,edit:function(e){var t=e.attributes,s=e.setAttributes,o=e.className;return t.questions&&0!==t.questions.length||(t.questions=[{id:te.generateId("faq-question"),question:[],answer:[]}]),Object(n.createElement)(te,{attributes:t,setAttributes:s,className:o})},save:function(e){var t=e.attributes;return Object(n.createElement)(te.Content,t)},deprecated:[{attributes:re,save:oe.v13_1}]})},27:function(e,t){e.exports=window.wp.components},28:function(e,t){function s(){return e.exports=s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,s.apply(this,arguments)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},3:function(e,t){e.exports=window.wp.i18n},32:function(e,t,s){var n=s(93),o=s(94),r=s(53),i=s(95);e.exports=function(e){return n(e)||o(e)||r(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},4:function(e,t){e.exports=window.lodash},44:function(e,t){function s(t){return e.exports=s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},50:function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n},e.exports.__esModule=!0,e.exports.default=e.exports},53:function(e,t,s){var n=s(50);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(e):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},65:function(e,t){function s(t,n){return e.exports=s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,s(t,n)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},73:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},74:function(e,t){e.exports=function(e,t){var s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var n,o,r=[],_n=!0,i=!1;try{for(s=s.call(e);!(_n=(n=s.next()).done)&&(r.push(n.value),!t||r.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==s.return||s.return()}finally{if(i)throw o}}return r}},e.exports.__esModule=!0,e.exports.default=e.exports},75:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},9:function(e,t){e.exports=window.yoast.styledComponents},93:function(e,t,s){var n=s(50);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},94:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},95:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports}});
>>>>>>> fb785cbb (Initial commit)
